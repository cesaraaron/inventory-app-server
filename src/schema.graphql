# import Product, Sale, UserPermissions, Log, LogType, SaleSubscriptionPayload, ProductSubscriptionPayload from "./generated/prisma.graphql"

type Query {
  users: [User!]!
  products: [Product!]!
  sales: [Sale!]!
}

type Mutation {
  login(phoneNumber: String!, password: String!): AuthPayload!
  createProduct(name: String!, price: Float!, quantity: Int!): Product
  updateProduct(
    productId: String!
    name: String
    price: Float
    quantity: Int
  ): Product
  deleteProduct(productId: String!): Product
  createSale(cartProducts: [CartProductInput!]!): Sale
  deleteSale(saleId: String!): Sale
  createUser(
    name: String!
    phoneNumber: String!
    password: String!
    permissions: [UserPermissions]
  ): User
  updateUser(
    userId: String!
    name: String
    phoneNumber: String
    password: String
    permissions: [UserPermissions]
  ): User
  deleteUser(userId: String!): User
  createLog(message: String!, type: LogType!): Log
}

input CartProductInput {
  productId: ID!
  name: String!
  price: Float!
  quantitySold: Int!
}

type AuthPayload {
  token: String!
  user: User
}

type User {
  id: ID!
  name: String!
  lastName: String
  phoneNumber: String!
  permissions: [UserPermissions!]!
  isAdmin: Boolean
  client: Client!
  sales: [Sale!]!
}

type Client {
  id: ID!
  name: String!
  lastName: String
  email: String
  phoneNumber: String!
  users: [User!]!
  products: [Product!]!
  sales: [Sale!]!
}

type Subscription {
  sale: SaleSubscriptionPayload
  product: ProductSubscriptionPayload
}
